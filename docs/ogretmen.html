<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ã–ÄŸretmen</title>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>

<body>

<h2>ğŸ‘©â€ğŸ« Ã–ÄŸretmen Paneli</h2>

<h3>Bekleyen Ã–ÄŸrenciler</h3>

<div id="liste"></div>

<button onclick="baslat()">ğŸ® Oyunu BaÅŸlat</button>

<script>

var firebaseConfig = {
  apiKey: "AIzaSyBwzlkq9LZYCM_sk_M6tKfx5jme37Zw0u4",
  authDomain: "kelime-avi-bec9f.firebaseapp.com",
  databaseURL: "https://kelime-avi-bec9f-default-rtdb.firebaseio.com",
  projectId: "kelime-avi-bec9f",
  storageBucket: "kelime-avi-bec9f.appspot.com",
  messagingSenderId: "154681825331",
  appId: "1:154681825331:web:7c8fec41e0d8ee2664eb46"
};

firebase.initializeApp(firebaseConfig);
var db = firebase.database();


/* LÄ°STE */
db.ref("ogrenciler").on("value",function(s){

  var html="";

  s.forEach(function(e){

    var d=e.val();

    html+=`
    ${d.ad}

    (${d.onay?"OnaylÄ±":"Bekliyor"})

    <button onclick="onayla('${e.key}')">
    âœ”ï¸
    </button>

    <br>
    `;
  });

  document.getElementById("liste").innerHTML=html;
});


/* ONAY */
function onayla(id){

  db.ref("ogrenciler/"+id+"/onay").set(true);
}


/* BAÅLAT */
function baslat(){

  db.ref("oyunDurum").set("basladi");

  alert("Oyun baÅŸladÄ±");
}

</script>

</body>
</html>
