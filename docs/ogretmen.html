<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Ã–ÄŸretmen Paneli</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
body{
  font-family:Arial;
  background:#eee;
  padding:20px;
}

.card{
  background:white;
  padding:10px;
  margin:10px;
  border-radius:5px;
}

button{
  padding:8px;
  margin:5px;
}
</style>
</head>

<body>

<h1>ğŸ“˜ Ã–ÄŸretmen Paneli</h1>

<button onclick="oyunuBaslat()">ğŸ® Oyunu BaÅŸlat</button>
<button onclick="oyunuBitir()">â›” Oyunu Bitir</button>

<hr>

<h3>Bekleyenler</h3>
<div id="bekleyen"></div>

<h3>Onaylananlar</h3>
<div id="onayli"></div>

<script>

const firebaseConfig = {
  apiKey: "AIzaSyBwzlkq9LZYCM_sk_M6tKfx5jme37Zw0u4",
  authDomain: "kelime-avi-bec9f.firebaseapp.com",
  projectId: "kelime-avi-bec9f",
  storageBucket: "kelime-avi-bec9f.firebasestorage.app",
  messagingSenderId: "154681825331",
  appId: "1:154681825331:web:7c8fec41e0d8ee2664eb46",
  databaseURL:"https://kelime-avi-bec9f-default-rtdb.firebaseio.com"
};

firebase.initializeApp(firebaseConfig);

const db = firebase.database();

const bekleyen=document.getElementById("bekleyen");
const onayli=document.getElementById("onayli");

// Ã–ÄŸrencileri Dinle
db.ref("ogrenciler").on("value", snap=>{

  bekleyen.innerHTML="";
  onayli.innerHTML="";

  const data=snap.val();
  if(!data) return;

  for(let id in data){

    const o=data[id];

    const div=document.createElement("div");
    div.className="card";

    div.innerHTML=`${o.ad} | Puan: ${o.puan || 0}`;

    if(o.onayli){

      onayli.appendChild(div);

    }else{

      const btn=document.createElement("button");
      btn.innerText="Onayla";

      btn.onclick=()=>{

        db.ref("ogrenciler/"+id).update({
          onayli:true
        });

      };

      div.appendChild(btn);
      bekleyen.appendChild(div);
    }
  }

});

// Oyunu BaÅŸlat
function oyunuBaslat(){

  db.ref("oyun").set({
    basladi:true
  });

  alert("Oyun baÅŸladÄ±!");
}

// Oyunu Bitir
function oyunuBitir(){

  db.ref("oyun").set({
    basladi:false
  });

  alert("Oyun durduruldu!");
}

</script>

</body>
</html>
