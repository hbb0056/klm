<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Kelime AvÄ± - Ã–ÄŸretmen</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
body{
  font-family:Arial;
  background:#f2f2f2;
  padding:20px;
}

h1{
  text-align:center;
}

.card{
  background:white;
  padding:10px;
  margin:10px;
  border-radius:6px;
}

button{
  padding:6px 12px;
  margin:5px;
  cursor:pointer;
}
</style>
</head>

<body>

<h1>ğŸ“˜ Kelime AvÄ± - Ã–ÄŸretmen Paneli</h1>

<button onclick="oyunuBaslat()">ğŸ® Oyunu BaÅŸlat</button>
<button onclick="oyunuBitir()">â›” Oyunu Bitir</button>

<hr>

<h3>â³ Onay Bekleyenler</h3>
<div id="bekleyen"></div>

<h3>âœ… Oyundakiler</h3>
<div id="onayli"></div>

<script>

// Firebase AyarlarÄ±
const firebaseConfig = {
  apiKey: "AIzaSyBwzlkq9LZYCM_sk_M6tKfx5jme37Zw0u4",
  authDomain: "kelime-avi-bec9f.firebaseapp.com",
  projectId: "kelime-avi-bec9f",
  storageBucket: "kelime-avi-bec9f.firebasestorage.app",
  messagingSenderId: "154681825331",
  appId: "1:154681825331:web:7c8fec41e0d8ee2664eb46",
  databaseURL:"https://kelime-avi-bec9f-default-rtdb.firebaseio.com"
};

firebase.initializeApp(firebaseConfig);

const db = firebase.database();

const bekleyenDiv = document.getElementById("bekleyen");
const onayliDiv = document.getElementById("onayli");

// Ã–ÄŸrencileri Dinle
db.ref("ogrenciler").on("value", snap => {

  bekleyenDiv.innerHTML="";
  onayliDiv.innerHTML="";

  const data = snap.val();
  if(!data) return;

  for(let id in data){

    const o = data[id];

    const div = document.createElement("div");
    div.className="card";

    div.innerHTML = `
      <b>${o.ad}</b><br>
      Puan: ${o.puan || 0}
    `;

    if(o.onayli){

      onayliDiv.appendChild(div);

    }else{

      const btn = document.createElement("button");
      btn.innerText="Onayla";

      btn.onclick = ()=>{

        db.ref("ogrenciler/"+id).update({
          onayli:true
        });

      };

      div.appendChild(btn);
      bekleyenDiv.appendChild(div);
    }
  }

});

// Oyunu BaÅŸlat
function oyunuBaslat(){

  db.ref("oyun").set({
    basladi:true,
    zaman:Date.now()
  });

  alert("ğŸ‰ Oyun baÅŸlatÄ±ldÄ±!");
}

// Oyunu Bitir
function oyunuBitir(){

  db.ref("oyun").set({
    basladi:false
  });

  alert("â›” Oyun bitirildi!");
}

</script>

</body>
</html>
