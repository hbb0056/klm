<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Kelime AvÄ±</title>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<style>
body{
  text-align:center;
  font-family:Arial;
}

#kelime{
  font-size:40px;
  letter-spacing:8px;
}

input{
  font-size:18px;
  padding:5px;
}
</style>
</head>

<body>

<h1>ğŸ¯ Kelime AvÄ±</h1>

<h3>Anlam:</h3>
<p id="anlam">Bekleniyor...</p>

<h2 id="kelime">-----</h2>

<br>

<input id="tahmin" placeholder="Tahminini yaz">
<button onclick="gonder()">GÃ¶nder</button>

<p id="mesaj"></p>

<script>

var firebaseConfig = {
  apiKey: "AIzaSyBwzlkq9LZYCM_sk_M6tKfx5jme37Zw0u4",
  authDomain: "kelime-avi-bec9f.firebaseapp.com",
  databaseURL: "https://kelime-avi-bec9f-default-rtdb.firebaseio.com",
  projectId: "kelime-avi-bec9f",
  storageBucket: "kelime-avi-bec9f.appspot.com",
  messagingSenderId: "154681825331",
  appId: "1:154681825331:web:7c8fec41e0d8ee2664eb46"
};

firebase.initializeApp(firebaseConfig);
var db = firebase.database();

var kelime = "";
var ogrenciID = localStorage.getItem("id");


/* AKTÄ°F KELÄ°ME */
db.ref("aktif").on("value",function(s){

  var d = s.val();

  if(!d) return;

  kelime = d.kelime;

  document.getElementById("anlam").innerText = d.anlam;
  document.getElementById("kelime").innerText = d.gizli;

  document.getElementById("mesaj").innerText="";
  document.getElementById("tahmin").value="";
});


/* TAHMÄ°N */
function gonder(){

  var t = document.getElementById("tahmin").value.toUpperCase();

  if(t=="") return;

  if(t == kelime){

    db.ref("ogrenciler/"+ogrenciID+"/puan")
    .transaction(function(p){
      return (p||0)+10;
    });

    document.getElementById("mesaj").innerText="âœ… DoÄŸru! +10 puan";

  }else{

    document.getElementById("mesaj").innerText="âŒ YanlÄ±ÅŸ";
  }

  document.getElementById("tahmin").value="";
}

</script>

</body>
</html>
